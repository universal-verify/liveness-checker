const e=new class{constructor(){}checkLiveness(e={}){let s=Math.random().toString(36).substring(2,15),c=e.localTesting?"../index.html":"https://universal-verify.github.io/liveness-checker/",n=e.localTesting?window.location.origin:"https://universal-verify.github.io";const a=window.open(c,"_blank");window.addEventListener("message",(c=>{if(c.source===a)if("liveness-check-result"===c.data.type){if(c.data.nonce!==s)return;e.successCallback?e.successCallback():console.log("Missing successCallback for liveness check"),a.close()}else if("liveness-check-error"===c.data.type){if(e.errorCallback){if(c.data.nonce!==s)return;e.errorCallback(c.data.error)}else console.log("Missing errorCallback for liveness check");a.close()}else"check-parent-commandeer"===c.data.type&&a.postMessage({type:"confirm-parent-commandeer",nonce:s},n)}))}};export{e as default};
